<div class="container bs-docs-container">

    <div class="row">
        <div class="col-md-9" role="main">
            <div class="bs-docs-section">
                <h1 id="download" class="page-header">下载</h1>

                <p class="lead">avalon根据兼并容浏览器或平台的不同划分为三个版本。</p>

                <div class="row bs-downloads">
                    <div class="col-sm-4">
                        <h3>avalon.js</h3>
                        <p>兼容IE6及其他浏览器。<strong>需要严格遵守先定义后使用的规则</strong>。</p>
                        <p>
                            <a href="https://raw.githubusercontent.com/RubyLouvre/avalon/1.5.5/dist/avalon.js" download="avalon.js" class="btn btn-lg btn-outline">点我下载源码</a>
                        </p>
                    </div>
                    <div class="col-sm-4">
                        <h3>avalon.modern.js</h3>
                        <p>兼容IE10及其他浏览器。<strong>它使用一些新API,以提高性能及获取更小的体积</strong>。</p>
                        <p>
                            <a href="https://raw.githubusercontent.com/RubyLouvre/avalon/1.5.5/dist/avalon.modern.js" download="avalon.modern.js" class="btn btn-lg btn-outline">点我下载源码</a>
                        </p>
                    </div>
                    <div class="col-sm-4">
                        <h3>avalon.mobile</h3>
                        <p>运行于手机端。<strong>只是在avalon.modern.js加上触屏事件的支持</strong>。</p>
                        <p>
                            <a href="https://raw.githubusercontent.com/RubyLouvre/avalon/1.5.5/dist/avalon.mobile.js" download="avalon.mobile.js" class="btn btn-lg btn-outline">点我下载源码</a>
                        </p>
                    </div>
                </div>

                <h2 id="download-cdn">CDN支持</h2>
                <p>
                    我们可以使用bootcdn免费提供的CDN加速服务下载avalon:&nbsp;<a href="http://www.bootcdn.cn/avalon.js/">http://www.bootcdn.cn/avalon.js/</a>
                </p>
                <p>在这里我们可以看到有10多个版本.其中带<code>min</code>字样的是压缩版本,
                    带<code>modern</code>字样的是用于现代浏览器的高性能版本,
                    带<code>mobile</code>字样的是用于移动端,
                    带<code>shim</code>字样的是去掉加载器的版本.</p>
                <p>
                    <strong class="text-danger">avalon现在是并行<code>1.4.*</code>与<code>1.5.*</code>
                        两个分支.1.4.*可以使用新旧两种风格定义VM,&nbsp;与onui搭配使用; 1.5.*只能用新风格定义VM,与avalon.bootsrap搭配使用
                    </strong>
                </p>
                <div class="bs-callout bs-callout-danger">
                    <h4>avalon1.4.*到1.5*的升级指南</h4>
                    <ul>
                        <li>avalon1.5不再支持旧风格，<code>avalon.define(id, callback)</code>全部改成
                            <code>avalon.define(object)</code>这种形式</li>
                        <li>avalon1.5定义计算属性时，需要在<code>$computed</code>对象上统一定义</li>
                        <li>avalon1.5生成的VM 只有第一层对象上拥有<code>$fire</code>, <code>$watch</code>方法，
                            <strong class="text-danger">子对象没有$fire, $watch方法</strong>。
                            之前监听数组长度变化时，是用<code>vm.array.$watch("length",callback)</code>，
                            现在改成<code>vm.$watch("array.length", callback)</code>，之前监听子对象某个属性的变化，
                            是使用<code>vm.aaa.$watch("bbb",callback)</code>,现在改成<code>vm.$watch("aaa.bbb",callback)</code>，
                            之前监听某一层的所有属性变化是vm.$watch("all!", callback)，现在改成vm.$watch("*",callback);之前不能监听数组元素变化，现在可以vm.$watch("array2.*", callback)</li>
                        <li>avalon1.5不再支持$unwatch，详见上方。</li>
                        <li>avalon1.5<strong class="text-danger">不再支持data-duplex-focus, data-duplex-observe辅助指令</strong></li>
                        <li>avalon1.5<strong class="text-danger">不再支持ms-widget</strong>，请使用avalon.component创建组件，然后以自定义标签的形式声明使用。</li>
                        <li>avalon1.5不再使用<code>avalon.bindingHandlers</code>,<code>avalon.bindingExecutors</code>来创建新指令，再改用更方便的avalon.directive方法</li>
                        <li>avalon在循环对象时，以前需要自己计算索引值，现在它与循环数组一样，存在<strong>$index变量</strong>了!</li>
                    </ul>
                </div>      
                <xmp class="html">
                    <!DOCTYPE html>
                    <html>
                        <head>
                            <title>first example</title>
                            <meta charset="UTF-8">
                            <meta name="viewport" content="width=device-width, initial-scale=1.0">
                            <script src="//cdn.bootcss.com/avalon.js/1.5.5/avalon.js"></script>
                            <script>
                                var vm = avalon.define({
                                    $id: "test",
                                    name: "司徒正美"
                                })
                            </script>
                        </head>
                        <body ms-controller="test">
                            <input ms-duplex="name" >
                            <p>Hello,{{name}}!</p>
                        </body>
                    </html>
                </xmp>

            </div>

        </div>

        <div class="col-md-3" role="complementary">
            <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm">


            </nav>
        </div>

    </div>


</div>